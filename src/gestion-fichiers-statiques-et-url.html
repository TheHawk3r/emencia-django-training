
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="fr">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Les fichiers statiques &#8212; Documentation Formation Django 1.0</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Recherche" href="../search.html" />

  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />


  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            <div class="section" id="sommaire">
              <a href="/emencia-django-training/src/home.html" class="button">SOMMAIRE</a>
            </div>

  <div class="section" id="les-fichiers-statiques">
<span id="les-fichiers-statiques"></span><h1>Les fichiers statiques<a class="headerlink" href="#les-fichiers-statiques" title="Lien permanent vers ce titre">¶</a></h1>
<p>Il existe une manière simple d’utiliser des fichiers statiques (images, fichiers css, js etc…) avec Django. En effet, le stockage de ces fichiers peut différer entre l’environnement local et l’environnement de production et il peut être difficile de maintenir toutes les urls sur tous les templates.</p>
<p>Le template tag <code class="docutils literal notranslate"><span class="pre">static</span></code> permet de spécifier le chemin du fichier voulu et de construire l’url exacte pour y accéder.</p>
<div class="section" id="exemple">
<span id="exemple"></span><h2>Exemple<a class="headerlink" href="#exemple" title="Lien permanent vers ce titre">¶</a></h2>
<p>Il est recommandé de stocker ses fichiers statiques dans un dossier nommé <code class="docutils literal notranslate"><span class="pre">static</span></code> au sein de l’application.
Disons que nous avons un fichier <code class="docutils literal notranslate"><span class="pre">logo.png</span></code> situé dans <code class="docutils literal notranslate"><span class="pre">/my_app/static/img/</span></code>.</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>{% load static %}

<span class="p">&lt;</span><span class="nt">img</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;{% static &#39;img/logo.png&#39; %}&quot;</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>Le html généré ressemblera probablement à :</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">img</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;/static/img/logo.png&quot;</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>La première partie de l’url (<code class="docutils literal notranslate"><span class="pre">&quot;static&quot;</span></code>) peut changer au cours du temps mais nos templates restent valides? C’est un cas courant quand on décide d’utiliser un CDN pour gérer nos fichiers statiques !</p>
</div>
</div>
<div class="section" id="les-urls">
<span id="les-urls"></span><h1>Les URLs<a class="headerlink" href="#les-urls" title="Lien permanent vers ce titre">¶</a></h1>
<p>En suivant la même logique qu’avec les fichiers statiques, des URLs peuvent changer, ou avoir un préfixe qui change au cours du temps ou au moins au cours du développement.</p>
<p>Il est donc recommandé de ne pas écrire en dur les URLs mais d’utiliser le tag <code class="docutils literal notranslate"><span class="pre">url</span></code> pour les générer à la volée. Pour ce faire, il faut s’assurer qu’au moment de la déclaration des URLs on définisse un attribut <code class="docutils literal notranslate"><span class="pre">name</span></code></p>
<div class="section" id="exemple">
<span id="id1"></span><h2>Exemple<a class="headerlink" href="#exemple" title="Lien permanent vers ce titre">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">urls.py</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django.conf.urls</span> <span class="kn">import</span> <span class="n">url</span>

<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">views</span>

<span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">url</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^beers/$&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">beers</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;beer_list&#39;</span><span class="p">),</span>
<span class="p">]</span>
</pre></div>
</div>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;{% url &#39;beer_list&#39; %}&quot;</span><span class="p">&gt;</span>I&#39;m thursty<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>Le html généré sera:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;/beers/&quot;</span><span class="p">&gt;</span>I&#39;m thursty<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>On peut changer les urls sans se soucier de leurs utilisations dans les templates.</p>
<p>Pour des URLS plus complexes, il est également possible de fournir des arguments supplémentaires au tag pour construire l’URL.</p>
<p><code class="docutils literal notranslate"><span class="pre">urls.py</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django.conf.urls</span> <span class="kn">import</span> <span class="n">url</span>

<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">views</span>

<span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">url</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^beer/(?P&lt;pk&gt;\d+)/$&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">beer_detail</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;beer_detail&#39;</span><span class="p">),</span>
<span class="p">]</span>
</pre></div>
</div>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;{% url &#39;beer_detail&#39; pk=1 %}&quot;</span><span class="p">&gt;</span>Tell me more<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>Le html généré sera:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;/beer/1/&quot;</span><span class="p">&gt;</span>Tell me more<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>:beer:</p>
</div>
</div>
<div class="section" id="footer">
  <a href="/emencia-django-training/src/utilisation-des-blocs.html" class="button left">PRÉCEDENT</a>
  <a href="/emencia-django-training/src/gestion-templates-avec-librairies-tierces.html" class="button right">SUIVANT</a>
</div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table des Matières</a></h3>
  <ul>
<li><a class="reference internal" href="#">Les fichiers statiques</a><ul>
<li><a class="reference internal" href="#exemple">Exemple</a></li>
</ul>
</li>
<li><a class="reference internal" href="#les-urls">Les URLs</a><ul>
<li><a class="reference internal" href="#exemple">Exemple</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>Cette page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/src/Gestion-des-fichiers-statiques-et-url.md.txt"
            rel="nofollow">Montrer le code source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Recherche rapide</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, Adrien Brunet.

      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>

      |
      <a href="../_sources/src/Gestion-des-fichiers-statiques-et-url.md.txt"
          rel="nofollow">Page source</a>
    </div>




  </body>
</html>
